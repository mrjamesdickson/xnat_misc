Timing is on.

=========================================
Testing Indexes for Large Tables
=========================================
Configuration:
  MAX_TABLES:  10
  MIN_SIZE_MB:  1
  MIN_SEQ_SCANS:  1

CREATE FUNCTION
Time: 6.904 ms
Test function created

CREATE TABLE
Time: 10.727 ms
INSERT 0 1
Time: 3.855 ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Testing Top 10 Largest Tables
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  
psql:/tmp/test_large_tables.sql:232: NOTICE:  
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Test 1/10: xdat_change_info (50 MB, 257436 rows, 233 seq scans)
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Testing idx_test_large_xdat_change_info_change_user on xdat_change_info.change_user
psql:/tmp/test_large_tables.sql:232: NOTICE:  Baseline: 0.30140000000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  Index created: idx_test_large_xdat_change_info_change_user
psql:/tmp/test_large_tables.sql:232: NOTICE:  With index: 0.37420000000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  ROLLBACK - only improved by -24.15.2f%
psql:/tmp/test_large_tables.sql:232: NOTICE:  
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Test 2/10: xhbm_container_entity_input (14 MB, 122564 rows, 67 seq scans)
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Testing idx_test_large_xhbm_container_entity_input_name on xhbm_container_entity_input.name
psql:/tmp/test_large_tables.sql:232: NOTICE:  Baseline: 0.45840000000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  Index created: idx_test_large_xhbm_container_entity_input_name
psql:/tmp/test_large_tables.sql:232: NOTICE:  With index: 0.42140000000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  KEEP - improved by 8.07.2f%
psql:/tmp/test_large_tables.sql:232: NOTICE:  
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Test 3/10: xhbm_container_entity_history (14 MB, 96133 rows, 158 seq scans)
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Testing idx_test_large_xhbm_container_entity_history_entity_id on xhbm_container_entity_history.entity_id
psql:/tmp/test_large_tables.sql:232: NOTICE:  Baseline: 0.22820000000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  Index created: idx_test_large_xhbm_container_entity_history_entity_id
psql:/tmp/test_large_tables.sql:232: NOTICE:  With index: 0.36380000000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  ROLLBACK - only improved by -59.42.2f%
psql:/tmp/test_large_tables.sql:232: NOTICE:  
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Test 4/10: wrk_workflowdata (13 MB, 33804 rows, 659 seq scans)
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Skipped wrk_workflowdata - no data in column executionenvironment_wrk_abstractexecutionenvironment_id
psql:/tmp/test_large_tables.sql:232: NOTICE:  Testing idx_test_large_wrk_workflowdata_comments on wrk_workflowdata.comments
psql:/tmp/test_large_tables.sql:232: NOTICE:  Baseline: 3.3492000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  Index created: idx_test_large_wrk_workflowdata_comments
psql:/tmp/test_large_tables.sql:232: NOTICE:  With index: 0.76360000000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  KEEP - improved by 77.20.2f%
psql:/tmp/test_large_tables.sql:232: NOTICE:  
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Test 5/10: xdat_user_login (12 MB, 39897 rows, 2388 seq scans)
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Testing idx_test_large_xdat_user_login_login_date on xdat_user_login.login_date
psql:/tmp/test_large_tables.sql:232: NOTICE:  Baseline: 2.6714000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  Index created: idx_test_large_xdat_user_login_login_date
psql:/tmp/test_large_tables.sql:232: NOTICE:  With index: 0.57580000000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  KEEP - improved by 78.45.2f%
psql:/tmp/test_large_tables.sql:232: NOTICE:  
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Test 6/10: xdat_user_login_meta_data (11 MB, 39897 rows, 21 seq scans)
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Testing idx_test_large_xdat_user_login_meta_data_xft_version on xdat_user_login_meta_data.xft_version
psql:/tmp/test_large_tables.sql:232: NOTICE:  Baseline: 3.0154000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  Index created: idx_test_large_xdat_user_login_meta_data_xft_version
psql:/tmp/test_large_tables.sql:232: NOTICE:  With index: 0.37640000000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  KEEP - improved by 87.52.2f%
psql:/tmp/test_large_tables.sql:232: NOTICE:  
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Test 7/10: xhbm_dicom_spatial_data (11 MB, 25365 rows, 152 seq scans)
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Testing idx_test_large_xhbm_dicom_spatial_data_created on xhbm_dicom_spatial_data.created
psql:/tmp/test_large_tables.sql:232: NOTICE:  Baseline: 3.1492000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  Index created: idx_test_large_xhbm_dicom_spatial_data_created
psql:/tmp/test_large_tables.sql:232: NOTICE:  With index: 0.45100000000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  KEEP - improved by 85.68.2f%
psql:/tmp/test_large_tables.sql:232: NOTICE:  
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Test 8/10: wrk_workflowdata_meta_data (9424 kB, 34264 rows, 94 seq scans)
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Testing idx_test_large_wrk_workflowdata_meta_data_xft_version on wrk_workflowdata_meta_data.xft_version
psql:/tmp/test_large_tables.sql:232: NOTICE:  Baseline: 2.4972000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  Index created: idx_test_large_wrk_workflowdata_meta_data_xft_version
psql:/tmp/test_large_tables.sql:232: NOTICE:  With index: 0.43000000000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  KEEP - improved by 82.78.2f%
psql:/tmp/test_large_tables.sql:232: NOTICE:  
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Test 9/10: xhbm_container_entity_environment_variables (8944 kB, 75801 rows, 16 seq scans)
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Testing idx_test_large_xhbm_container_entity_environment_variables_environment_variables on xhbm_container_entity_environment_variables.environment_variables
psql:/tmp/test_large_tables.sql:232: NOTICE:  Baseline: 5.6668000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  identifier "idx_test_large_xhbm_container_entity_environment_variables_environment_variables" will be truncated to "idx_test_large_xhbm_container_entity_environment_variables_envi"
psql:/tmp/test_large_tables.sql:232: NOTICE:  Index created: idx_test_large_xhbm_container_entity_environment_variables_environment_variables
psql:/tmp/test_large_tables.sql:232: NOTICE:  With index: 0.41840000000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  KEEP - improved by 92.62.2f%
psql:/tmp/test_large_tables.sql:232: NOTICE:  
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Test 10/10: xhbm_container_entity (6208 kB, 14682 rows, 153 seq scans)
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Testing idx_test_large_xhbm_container_entity_created on xhbm_container_entity.created
psql:/tmp/test_large_tables.sql:232: NOTICE:  Baseline: 1.9218000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  Index created: idx_test_large_xhbm_container_entity_created
psql:/tmp/test_large_tables.sql:232: NOTICE:  With index: 0.70280000000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  KEEP - improved by 63.43.2f%
psql:/tmp/test_large_tables.sql:232: NOTICE:  
psql:/tmp/test_large_tables.sql:232: NOTICE:  Completed testing 10 tables
DO
Time: 4066.946 ms (00:04.067)

=========================================
SUMMARY
=========================================

 tables_tested | indexes_tested | kept | rolled_back | avg_improvement_pct | max_improvement_pct 
---------------+----------------+------+-------------+---------------------+---------------------
            10 |             10 |    8 |           2 |               71.97 |               92.62
(1 row)

Time: 10.496 ms

--- KEPT INDEXES (>= 5% improvement) ---
                 table_name                  |                                    index_name                                    |        column_indexed         | improvement_pct 
---------------------------------------------+----------------------------------------------------------------------------------+-------------------------------+-----------------
 xhbm_container_entity_environment_variables | idx_test_large_xhbm_container_entity_environment_variables_environment_variables | Column: environment_variables |           92.62
 xdat_user_login_meta_data                   | idx_test_large_xdat_user_login_meta_data_xft_version                             | Column: xft_version           |           87.52
 xhbm_dicom_spatial_data                     | idx_test_large_xhbm_dicom_spatial_data_created                                   | Column: created               |           85.68
 wrk_workflowdata_meta_data                  | idx_test_large_wrk_workflowdata_meta_data_xft_version                            | Column: xft_version           |           82.78
 xdat_user_login                             | idx_test_large_xdat_user_login_login_date                                        | Column: login_date            |           78.45
 wrk_workflowdata                            | idx_test_large_wrk_workflowdata_comments                                         | Column: comments              |           77.20
 xhbm_container_entity                       | idx_test_large_xhbm_container_entity_created                                     | Column: created               |           63.43
 xhbm_container_entity_input                 | idx_test_large_xhbm_container_entity_input_name                                  | Column: name                  |            8.07
(8 rows)

Time: 0.791 ms

--- ROLLED BACK (<5% improvement) ---
          table_name           |                       index_name                       |   column_indexed    | improvement_pct 
-------------------------------+--------------------------------------------------------+---------------------+-----------------
 xdat_change_info              | idx_test_large_xdat_change_info_change_user            | Column: change_user |          -24.15
 xhbm_container_entity_history | idx_test_large_xhbm_container_entity_history_entity_id | Column: entity_id   |          -59.42
(2 rows)

Time: 0.684 ms

Results saved in pg_index_test_log table

