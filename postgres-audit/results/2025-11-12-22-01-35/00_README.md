# PostgreSQL Index Analysis Results

**Date:** 2025-11-12 22-01-35
**Database:** xnat
**Duration:** ~5 minutes

## Summary

 tables_tested | indexes_tested | indexes_kept | indexes_rolled_back | avg_improvement_pct | max_improvement_pct 
---------------+----------------+--------------+---------------------+---------------------+---------------------
            29 |             38 |           29 |                   9 |               67.71 |               98.01
(1 row)


Tables Tested:
-------------
                 table_name                  | indexes_tested | kept | rolled_back | avg_improvement 
---------------------------------------------+----------------+------+-------------+-----------------
 xdat_change_info                            |              2 |    1 |           1 |           98.01
 xhbm_container_entity_environment_variables |              1 |    1 |           0 |           94.50
 wrk_workflowdata_meta_data                  |              1 |    1 |           0 |           92.83
 xhbm_dicom_spatial_data                     |              2 |    2 |           0 |           89.88
 xnat_resource                               |              2 |    1 |           1 |           88.17
 wrk_workflowdata                            |              1 |    1 |           0 |           87.41
 xnat_resource_meta_data                     |              1 |    1 |           0 |           86.97
 xhbm_container_entity_log_paths             |              2 |    2 |           0 |           86.51
 xnat_resourcecatalog_meta_data              |              1 |    1 |           0 |           83.18
 xhbm_container_entity_mount                 |              1 |    1 |           0 |           82.06
 xdat_user_login                             |              3 |    2 |           1 |           82.00
 xdat_user_login_meta_data                   |              1 |    1 |           0 |           81.38
 xhbm_container_entity                       |              1 |    1 |           0 |           79.49
 xnat_abstractresource_meta_data             |              1 |    1 |           0 |           76.57
 xs_item_cache                               |              2 |    2 |           0 |           67.44
 xnat_ctscandata_meta_data                   |              1 |    1 |           0 |           59.15
 xhbm_container_entity_container_labels      |              1 |    1 |           0 |           52.62
 xnat_imagescandata                          |              3 |    2 |           1 |           50.94
 xnat_ctscandata                             |              1 |    1 |           0 |           37.51
 xnat_resourcecatalog                        |              1 |    1 |           0 |           32.50
 xnat_imagescandata_meta_data                |              1 |    1 |           0 |           28.89
 xdat_field_mapping                          |              1 |    1 |           0 |           21.50
 xhbm_preference                             |              1 |    1 |           0 |           14.88
 xnat_experimentdata                         |              1 |    1 |           0 |           12.59
 xhbm_container_entity_history               |              1 |    0 |           1 |                
 xhbm_container_entity_input                 |              1 |    0 |           1 |                
 xnat_abstractresource                       |              1 |    0 |           1 |                
 xnat_addfield                               |              1 |    0 |           1 |                
 xnat_imagesessiondata_history               |              1 |    0 |           1 |                
(29 rows)

## Files Generated

1. **01_audit_report.txt** - Complete 12-section database audit
2. **02_recommendations.sql** - Auto-generated optimization SQL
3. **03_fk_test_results.log** - FK index A/B test results
4. **04_non_fk_test_results.log** - Non-FK index test results
5. **05_schema_test_results.log** - Schema-based index test results
6. **06_test_results.csv** - All test data in CSV format
7. **07_summary_stats.txt** - Statistical summary
8. **08_production_fk_indexes.sql** - FK indexes ready to deploy
9. **09_production_non_fk_indexes.sql** - Non-FK indexes ready to deploy

## Next Steps

1. Review test results in CSV or log files
2. Deploy proven indexes using production SQL scripts
3. Monitor performance after deployment
4. Re-run analysis in 1 week to identify new opportunities

## Quick Deploy

```bash
# Deploy all proven indexes
psql -h localhost -U postgres -d xnat -f 08_production_fk_indexes.sql
psql -h localhost -U postgres -d xnat -f 09_production_non_fk_indexes.sql
```

---

Generated by: run_complete_analysis.sh
