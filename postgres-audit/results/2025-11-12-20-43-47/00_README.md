# PostgreSQL Index Analysis Results

**Date:** 2025-11-12 20-43-47
**Database:** xnat
**Duration:** ~5 minutes

## Summary

 tables_tested | indexes_tested | indexes_kept | indexes_rolled_back | avg_improvement_pct | max_improvement_pct 
---------------+----------------+--------------+---------------------+---------------------+---------------------
            12 |             16 |           12 |                   4 |               69.42 |               98.11
(1 row)


Tables Tested:
-------------
           table_name            | indexes_tested | kept | rolled_back | avg_improvement 
---------------------------------+----------------+------+-------------+-----------------
 xdat_change_info                |              2 |    1 |           1 |           98.11
 xnat_resource                   |              1 |    1 |           0 |           94.82
 xhbm_dicom_spatial_data         |              1 |    1 |           0 |           92.11
 wrk_workflowdata                |              1 |    1 |           0 |           87.28
 xs_item_cache                   |              1 |    1 |           0 |           68.30
 xhbm_container_entity_log_paths |              1 |    1 |           0 |           66.09
 xdat_user_login                 |              3 |    3 |           0 |           62.76
 xnat_imagescandata              |              2 |    2 |           0 |           56.76
 xnat_imagesessiondata_history   |              1 |    1 |           0 |           24.47
 xhbm_container_entity_history   |              1 |    0 |           1 |                
 xhbm_container_entity_input     |              1 |    0 |           1 |                
 xhbm_preference                 |              1 |    0 |           1 |                
(12 rows)

## Files Generated

1. **01_audit_report.txt** - Complete 12-section database audit
2. **02_recommendations.sql** - Auto-generated optimization SQL
3. **03_fk_test_results.log** - FK index A/B test results
4. **04_non_fk_test_results.log** - Non-FK index test results
5. **05_schema_test_results.log** - Schema-based index test results
6. **06_test_results.csv** - All test data in CSV format
7. **07_summary_stats.txt** - Statistical summary
8. **08_production_fk_indexes.sql** - FK indexes ready to deploy
9. **09_production_non_fk_indexes.sql** - Non-FK indexes ready to deploy

## Next Steps

1. Review test results in CSV or log files
2. Deploy proven indexes using production SQL scripts
3. Monitor performance after deployment
4. Re-run analysis in 1 week to identify new opportunities

## Quick Deploy

```bash
# Deploy all proven indexes
psql -h localhost -U postgres -d xnat -f 08_production_fk_indexes.sql
psql -h localhost -U postgres -d xnat -f 09_production_non_fk_indexes.sql
```

---

Generated by: run_complete_analysis.sh
