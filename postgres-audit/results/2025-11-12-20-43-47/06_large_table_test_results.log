Timing is on.

=========================================
Testing Indexes for Large Tables
=========================================
Configuration:
  MAX_TABLES:  5
  MIN_SIZE_MB:  1
  MIN_SEQ_SCANS:  1

CREATE FUNCTION
Time: 4.825 ms
Test function created

CREATE TABLE
Time: 8.127 ms
INSERT 0 1
Time: 3.647 ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Testing Top 5 Largest Tables
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  
psql:/tmp/test_large_tables.sql:232: NOTICE:  
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Test 1/5: xdat_change_info (50 MB, 257437 rows, 284 seq scans)
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Testing idx_test_large_xdat_change_info_change_user on xdat_change_info.change_user
psql:/tmp/test_large_tables.sql:232: NOTICE:  Baseline: 0.23300000000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  Index created: idx_test_large_xdat_change_info_change_user
psql:/tmp/test_large_tables.sql:232: NOTICE:  With index: 0.33760000000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  ROLLBACK - only improved by -44.89.2f%
psql:/tmp/test_large_tables.sql:232: NOTICE:  
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Test 2/5: xhbm_container_entity_input (14 MB, 122564 rows, 83 seq scans)
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Testing idx_test_large_xhbm_container_entity_input_name on xhbm_container_entity_input.name
psql:/tmp/test_large_tables.sql:232: NOTICE:  Baseline: 0.38680000000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  Index created: idx_test_large_xhbm_container_entity_input_name
psql:/tmp/test_large_tables.sql:232: NOTICE:  With index: 0.40140000000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  ROLLBACK - only improved by -3.77.2f%
psql:/tmp/test_large_tables.sql:232: NOTICE:  
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Test 3/5: xhbm_container_entity_history (14 MB, 96133 rows, 188 seq scans)
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Testing idx_test_large_xhbm_container_entity_history_entity_id on xhbm_container_entity_history.entity_id
psql:/tmp/test_large_tables.sql:232: NOTICE:  Baseline: 0.32460000000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  Index created: idx_test_large_xhbm_container_entity_history_entity_id
psql:/tmp/test_large_tables.sql:232: NOTICE:  With index: 0.44660000000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  ROLLBACK - only improved by -37.58.2f%
psql:/tmp/test_large_tables.sql:232: NOTICE:  
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Test 4/5: wrk_workflowdata (13 MB, 33804 rows, 676 seq scans)
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Skipped wrk_workflowdata - no data in column executionenvironment_wrk_abstractexecutionenvironment_id
psql:/tmp/test_large_tables.sql:232: NOTICE:  Testing idx_test_large_wrk_workflowdata_comments on wrk_workflowdata.comments
psql:/tmp/test_large_tables.sql:232: NOTICE:  Baseline: 3.3528000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  Index created: idx_test_large_wrk_workflowdata_comments
psql:/tmp/test_large_tables.sql:232: NOTICE:  With index: 0.42660000000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  KEEP - improved by 87.28.2f%
psql:/tmp/test_large_tables.sql:232: NOTICE:  
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Test 5/5: xdat_user_login (12 MB, 39898 rows, 2440 seq scans)
psql:/tmp/test_large_tables.sql:232: NOTICE:  =========================================
psql:/tmp/test_large_tables.sql:232: NOTICE:  Testing idx_test_large_xdat_user_login_login_date on xdat_user_login.login_date
psql:/tmp/test_large_tables.sql:232: NOTICE:  Baseline: 2.1642000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  Index created: idx_test_large_xdat_user_login_login_date
psql:/tmp/test_large_tables.sql:232: NOTICE:  With index: 0.34560000000000000000.2f ms
psql:/tmp/test_large_tables.sql:232: NOTICE:  KEEP - improved by 84.03.2f%
psql:/tmp/test_large_tables.sql:232: NOTICE:  
psql:/tmp/test_large_tables.sql:232: NOTICE:  Completed testing 5 tables
DO
Time: 2768.939 ms (00:02.769)

=========================================
SUMMARY
=========================================

 tables_tested | indexes_tested | kept | rolled_back | avg_improvement_pct | max_improvement_pct 
---------------+----------------+------+-------------+---------------------+---------------------
             5 |              5 |    2 |           3 |               85.66 |               87.28
(1 row)

Time: 3.790 ms

--- KEPT INDEXES (>= 5% improvement) ---
    table_name    |                index_name                 |   column_indexed   | improvement_pct 
------------------+-------------------------------------------+--------------------+-----------------
 wrk_workflowdata | idx_test_large_wrk_workflowdata_comments  | Column: comments   |           87.28
 xdat_user_login  | idx_test_large_xdat_user_login_login_date | Column: login_date |           84.03
(2 rows)

Time: 0.817 ms

--- ROLLED BACK (<5% improvement) ---
          table_name           |                       index_name                       |   column_indexed    | improvement_pct 
-------------------------------+--------------------------------------------------------+---------------------+-----------------
 xhbm_container_entity_input   | idx_test_large_xhbm_container_entity_input_name        | Column: name        |           -3.77
 xhbm_container_entity_history | idx_test_large_xhbm_container_entity_history_entity_id | Column: entity_id   |          -37.58
 xdat_change_info              | idx_test_large_xdat_change_info_change_user            | Column: change_user |          -44.89
(3 rows)

Time: 0.710 ms

Results saved in pg_index_test_log table

